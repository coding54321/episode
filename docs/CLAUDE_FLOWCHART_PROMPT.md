# Claude AI 플로우차트 생성 프롬프트

Claude AI에 입력하여 Mermaid 플로우차트 코드를 생성하고, 이를 이미지로 변환할 수 있는 프롬프트 모음입니다.

---

## 🎯 전체 통합 프롬프트 (한 번에 생성)

```
당신은 세계 최고의 플로우차트 전문가입니다. Episode 서비스의 전체 사용자 여정을 Mermaid flowchart 형식으로 작성해주세요.

Episode는 마인드맵 기반 취업준비 서비스로, 사용자의 경험을 구조화하고 STAR 방식으로 자기소개서를 작성할 수 있도록 도와주는 서비스입니다.

## 진입점
1. 랜딩 페이지 (/) - 로그인하지 않은 사용자 또는 로그인한 사용자 모두 접근 가능
2. 공유 링크 (/share/[nodeId]) - 로그인하지 않은 사용자도 접근 가능

## 전체 플로우

### 1. 랜딩 페이지 진입
- 로그인 상태 확인
  - 로그인 안됨 → 서비스 소개 표시 → 기능 소개 페이지 이동 가능 (마인드맵, 공백 진단, 아카이브) → 시작하기 → 로그인 페이지
  - 로그인 됨 → 프로젝트 목록 페이지로 리다이렉트
- OAuth 코드가 URL에 있으면 → OAuth 콜백 페이지로 리다이렉트

### 2. 인증 플로우
- 로그인 페이지 진입
  - 이미 로그인됨 → returnUrl 있으면 returnUrl로, 없으면 프로젝트 있으면 프로젝트 목록, 없으면 배지 선택 페이지
  - 로그인 안됨 → 카카오 로그인 버튼 표시
- 카카오 로그인 클릭 → 카카오 OAuth 페이지로 리다이렉트 → 카카오 로그인 완료 → OAuth 콜백 (/auth/callback?code=...)
- OAuth 콜백 처리
  - 인증 코드 처리 → Supabase Auth로 사용자 정보 조회/생성
  - 성공 → localStorage에 사용자 정보 저장 → returnUrl 있으면 returnUrl로, 없으면 프로젝트 있으면 프로젝트 목록, 없으면 배지 선택 페이지
  - 실패 → 에러 메시지 표시 → 로그인 페이지 유지

### 3. 프로젝트 관리
- 프로젝트 목록 페이지
  - 프로젝트 있음 → 프로젝트 카드 표시 → 클릭 시 마인드맵 편집 페이지
  - 프로젝트 없음 → 빈 상태 표시 → 새 프로젝트 버튼 → 배지 선택 페이지
- 배지 선택 페이지
  - 8가지 배지 중 선택 (최소 1개 이상)
  - 기타 배지 선택 시 커스텀 라벨 입력
  - 완료 버튼 클릭 → 프로젝트 초기화 (UUID 생성, 중앙 노드 생성, 배지 노드 생성, 원형 배치) → 마인드맵 편집 페이지

### 4. 마인드맵 편집
- 마인드맵 편집 페이지 진입
  - 최초 진입 → 온보딩 튜토리얼 표시 여부 확인
    - 튜토리얼 미표시 → 4단계 튜토리얼 오버레이 (건너뛰기/완료 가능)
    - 튜토리얼 이미 표시됨 → 마인드맵 표시

- 노드 조작
  - 노드 클릭 → 노드 선택 → 사이드바에 AI 어시스턴트 자동 표시
  - 노드 더블클릭 → 인라인 편집 모드 → 라벨 수정 → Enter/포커스 아웃 → 저장
  - 노드 우클릭 → 컨텍스트 메뉴:
    - 하위 노드 추가 → 방향 선택 → 새 노드 생성 → 편집 모드
    - 편집 → 인라인 편집 모드
    - STAR 정리하기 → 사이드바 STAR 탭 열기
    - 공유하기 → 공유 링크 생성
    - 공유 해제 → 공유 정보 삭제
    - 새 탭에서 열기 → 새 탭 생성
    - 삭제 → 삭제 확인 다이얼로그 → 확인 → 노드 및 하위 노드 삭제
  - 노드 드래그 → 위치 이동 → 좌표 저장
  - 노드에 마우스 오버 → '+' 버튼 표시 → 클릭 → 하위 노드 추가

- 캔버스 조작
  - Ctrl/Cmd + 드래그 → 캔버스 이동
  - Alt + 마우스 휠 → 줌 인/아웃

- 사이드바 기능
  - 공백 진단하기 버튼 → 공백 진단 탭
    - 부족 역량확인 서브 탭: 기업 선택 → 직무 선택 → 문항 체크 (쉬움/보통/어려움) → 어려움 선택 시 역량 태그 추출 → 추천 인벤토리에 자동 추가 → 분석 결과 표시
    - 추천 인벤토리 서브 탭: 역량 태그 목록 조회 → 역량 태그를 마인드맵 노드로 드래그 → 노드 추가 다이얼로그 → 새 노드 생성 → AI 어시스턴트 자동 열기
  - 어시스턴트 버튼 → AI 챗봇 탭
    - 노드 선택 시 자동 표시
    - STAR 단계별 대화 진행: Situation → Task → Action → Result
    - 모든 단계 완료 → STAR 초안 생성 버튼 활성화 → STAR 초안 생성 → STAR 에디터에 자동 로드
  - STAR 정리하기 버튼 → STAR 탭
    - 에피소드 노드 목록 조회 → 카드 형식으로 표시 → 에피소드 카드 클릭 → STAR 에디터 표시 → 편집/저장/복사

### 5. 공유 링크
- 공유 링크 생성: 노드 우클릭 → 공유하기 → 공유 노드 정보 수집 → Supabase 저장 → 공유 링크 생성 → 클립보드 복사
- 공유 링크 접근 (/share/[nodeId])
  - nodeId 유효성 검증
    - 유효하지 않음 → 404 에러
    - 유효함 → 공유 노드 정보 조회
      - 공유 노드 없음 → 404 에러
      - 공유 노드 있음 → 로그인 상태 확인
        - 로그인 안됨 → 읽기 전용 모드
        - 로그인 됨 → 편집 모드 가능 (노드 CRUD, STAR 작성)

### 6. 아카이브
- 아카이브 페이지 진입 → 모든 프로젝트의 에피소드 노드 조회 → 테이블 형식으로 표시
- 검색: 검색어 입력 → 에피소드 라벨, STAR 내용, 태그에서 검색 → 실시간 필터링
- 필터링: 대분류(배지)별, 역량 태그별, 회사명별 필터링
- 편집: STAR 내용 셀 클릭 → 인라인 편집 모드 → 수정 → 저장
- 삭제: 삭제 버튼 클릭 → 삭제 확인 다이얼로그 → 확인 → 에피소드 및 STAR 에셋 삭제

### 7. 대시보드
- 대시보드 페이지 진입 → 모든 프로젝트의 STAR 자기소개서 목록 조회 → 카드 형식으로 표시
- 검색: 검색어 입력 → 제목, 내용, 회사명, 역량 태그에서 검색 → 실시간 필터링
- 상세 조회: STAR 카드 클릭 → 상세 다이얼로그 표시 → 복사 버튼 → 클립보드 복사
- 삭제: 삭제 버튼 클릭 → 삭제 확인 다이얼로그 → 확인 → STAR 에셋 삭제

## 요구사항
1. Mermaid flowchart 문법을 정확히 사용해주세요
2. 모든 조건 분기를 다이아몬드 모양으로 표시해주세요
3. 페이지/화면은 둥근 사각형으로 표시해주세요
4. 프로세스는 사각형으로 표시해주세요
5. 에러 케이스는 빨간색으로 표시해주세요
6. 각 주요 기능 영역을 색상으로 구분해주세요 (인증: 파란색, 프로젝트: 초록색, 마인드맵: 보라색, 공유: 주황색, 아카이브: 회색, 대시보드: 노란색)
7. 플로우가 명확하게 연결되도록 해주세요
8. 순환 참조나 무한 루프가 없도록 주의해주세요

Mermaid 코드만 출력해주세요.
```

---

## 📦 세분화된 프롬프트 (단계별 생성)

### 프롬프트 1: 진입점 및 초기 분기

```
Episode 서비스의 진입점과 초기 분기를 Mermaid flowchart로 작성해주세요.

진입점은 두 가지:
1. 랜딩 페이지 (/)
2. 공유 링크 (/share/[nodeId])

랜딩 페이지에서:
- 로그인 상태 확인 (다이아몬드)
  - 로그인 안됨 → 서비스 소개 표시 → 기능 소개 페이지 이동 가능 → 시작하기 → 로그인 페이지
  - 로그인 됨 → 프로젝트 목록 페이지로 리다이렉트
- OAuth 코드가 URL에 있으면 → OAuth 콜백 페이지로 리다이렉트

공유 링크는 별도 플로우로 처리됩니다.

조건 분기를 명확히 표시하고, Mermaid 코드만 출력해주세요.
```

### 프롬프트 2: 인증 플로우

```
Episode 서비스의 인증 플로우를 Mermaid flowchart로 작성해주세요.

로그인 페이지 진입:
- 로그인 상태 확인 (다이아몬드)
  - 이미 로그인됨:
    - returnUrl 있음 → returnUrl로 이동
    - returnUrl 없음:
      - 프로젝트 있음 → 프로젝트 목록
      - 프로젝트 없음 → 배지 선택 페이지
  - 로그인 안됨 → 카카오 로그인 버튼 표시

카카오 로그인:
- 카카오 OAuth 페이지로 리다이렉트
- 카카오 로그인 완료
- OAuth 콜백 (/auth/callback?code=...)

OAuth 콜백 처리:
- 인증 코드 처리
- Supabase Auth로 사용자 정보 조회/생성 (다이아몬드)
  - 성공 → localStorage에 사용자 정보 저장 → returnUrl 있으면 returnUrl로, 없으면 프로젝트 있으면 프로젝트 목록, 없으면 배지 선택 페이지
  - 실패 → 에러 메시지 표시 (빨간색) → 로그인 페이지 유지

로그아웃:
- Supabase Auth 세션 종료
- localStorage 사용자 정보 삭제
- 로그인 페이지로 리다이렉트

모든 조건 분기와 에러 케이스를 포함하고, Mermaid 코드만 출력해주세요.
```

### 프롬프트 3: 프로젝트 생성 플로우

```
Episode 서비스의 프로젝트 생성 플로우를 Mermaid flowchart로 작성해주세요.

프로젝트 목록 페이지:
- 로그인 확인 (다이아몬드)
  - 로그인 안됨 → 로그인 페이지로 리다이렉트
  - 로그인 됨 → 프로젝트 목록 조회
    - 프로젝트 있음 (다이아몬드):
      - 프로젝트 카드 표시 → 프로젝트 클릭 → 마인드맵 편집 페이지
      - 새 프로젝트 버튼 클릭 → 배지 선택 페이지
    - 프로젝트 없음 → 빈 상태 표시 → 새 프로젝트 버튼 → 배지 선택 페이지

배지 선택 페이지:
- 8가지 배지 표시
- 배지 선택 (최소 1개 이상)
- 기타 배지 선택 시 → 커스텀 라벨 입력
- 완료 버튼 클릭

프로젝트 초기화:
- UUID 프로젝트 ID 생성
- 프로젝트명 자동 생성: '{사용자명}의 경험 맵'
- 중앙 노드 생성
- 선택한 배지 수만큼 대분류 노드 생성 (원형 배치)
- 각 배지 노드를 중앙 노드의 자식으로 연결
- Supabase DB에 저장
- 마인드맵 편집 페이지로 이동

Mermaid 코드만 출력해주세요.
```

### 프롬프트 4: 마인드맵 편집 - 노드 조작

```
마인드맵 편집 페이지의 노드 조작 플로우를 Mermaid flowchart로 작성해주세요.

마인드맵 편집 페이지 진입:
- 최초 진입 → 온보딩 튜토리얼 표시 여부 확인 (다이아몬드)
  - 튜토리얼 미표시 → 4단계 튜토리얼 오버레이 → 건너뛰기/완료 → 마인드맵 표시
  - 튜토리얼 이미 표시됨 → 마인드맵 표시

노드 조작:
1. 노드 클릭 → 노드 선택 → 사이드바에 AI 어시스턴트 자동 표시
2. 노드 더블클릭 → 인라인 편집 모드 → 라벨 수정 → Enter/포커스 아웃 → 저장
3. 노드 우클릭 → 컨텍스트 메뉴 표시:
   - 하위 노드 추가 → 방향 선택 → 새 노드 생성 → 편집 모드
   - 편집 → 인라인 편집 모드
   - STAR 정리하기 → 사이드바 STAR 탭 열기
   - 공유하기 → 공유 링크 생성
   - 공유 해제 → 공유 정보 삭제
   - 새 탭에서 열기 → 새 탭 생성
   - 삭제 → 삭제 확인 다이얼로그 → 확인 → 노드 및 하위 노드 삭제
4. 노드 드래그 → 위치 이동 → 좌표 저장
5. 노드에 마우스 오버 → '+' 버튼 표시 → 클릭 → 하위 노드 추가

캔버스 조작:
- Ctrl/Cmd + 드래그 → 캔버스 이동
- Alt + 마우스 휠 → 줌 인/아웃

각 액션을 명확히 구분하고, Mermaid 코드만 출력해주세요.
```

### 프롬프트 5: 사이드바 기능 - 공백 진단

```
사이드바의 공백 진단하기 탭 플로우를 Mermaid flowchart로 작성해주세요.

공백 진단하기 버튼 클릭:
- 사이드바 열기
- 공백 진단 탭 활성화

부족 역량확인 서브 탭:
- 기업 선택 → 직무 목록 표시
- 직무 선택 → 문항 목록 표시
- 문항별 답변 어려움 선택 (쉬움/보통/어려움) (다이아몬드)
  - 어려움 선택 → 역량 태그 추출 → 추천 인벤토리에 자동 추가
- 모든 문항 완료 → 분석 결과 표시

추천 인벤토리 서브 탭:
- 역량 태그 목록 조회
- 역량 태그를 마인드맵 노드로 드래그 → 노드 추가 다이얼로그 표시
  - 노드 이름 입력 → 생성하기 → 새 노드 생성 → AI 어시스턴트 자동 열기
  - 취소 → 다이얼로그 닫기
- 역량 태그 삭제
- 역량 태그 클릭 → 연결된 문항 목록 조회

서브 탭 전환을 명확히 표시하고, Mermaid 코드만 출력해주세요.
```

### 프롬프트 6: 사이드바 기능 - 어시스턴트

```
사이드바의 어시스턴트 탭 플로우를 Mermaid flowchart로 작성해주세요.

어시스턴트 버튼 클릭 또는 노드 선택 시:
- 사이드바 열기
- 어시스턴트 탭 활성화

AI 챗봇 대화:
- 노드 타입과 레벨에 따라 적절한 시작 질문 제공
- 대화 내역을 채팅 형식으로 표시

STAR 단계별 대화 진행:
1. Situation(상황) 단계 → 질문 및 답변 수집 → 단계 완료 (체크 표시)
2. Task(과제) 단계 → 질문 및 답변 수집 → 단계 완료 (체크 표시)
3. Action(행동) 단계 → 질문 및 답변 수집 → 단계 완료 (체크 표시)
4. Result(결과) 단계 → 질문 및 답변 수집 → 단계 완료 (체크 표시)

모든 단계 완료:
- STAR 초안 생성 버튼 활성화
- STAR 초안 생성 버튼 클릭 → 대화 내용 기반 STAR 초안 자동 생성 → STAR 에디터에 자동 로드

사용자 메시지 입력:
- 사용자 메시지 입력 → AI 응답 생성 → 로딩 표시 → 채팅 형식으로 표시 → STAR 데이터에 자동 저장

STAR 단계를 순차적으로 표시하고, 각 단계 완료를 명확히 표시해주세요. Mermaid 코드만 출력해주세요.
```

### 프롬프트 7: 사이드바 기능 - STAR 정리하기

```
사이드바의 STAR 정리하기 탭 플로우를 Mermaid flowchart로 작성해주세요.

STAR 정리하기 버튼 클릭:
- 사이드바 열기
- STAR 탭 활성화

에피소드 노드 목록 조회:
- 모든 에피소드 노드를 카드 형식으로 표시
- 각 카드에 노드 트리 경로 표시 (프로젝트 > 대분류 > 경험 > 에피소드)
- 에피소드 카드 클릭 → 해당 에피소드의 STAR 에디터 표시

STAR 에디터:
- Situation, Task, Action, Result 각각 편집 가능
- 텍스트 입력 및 수정
- 글자 수 실시간 표시 및 제한 검증
- 변경 사항 자동 저장 (Supabase DB)
- 저장 완료 알림 표시
- 복사 버튼 클릭 → 전체 STAR 내용을 클립보드에 복사 → 복사 완료 토스트 메시지 표시

에피소드 목록과 에디터를 명확히 구분하고, Mermaid 코드만 출력해주세요.
```

### 프롬프트 8: 공유 링크 플로우

```
공유 링크 생성 및 접근 플로우를 Mermaid flowchart로 작성해주세요.

공유 링크 생성:
- 마인드맵 편집 페이지에서 노드 우클릭 → 공유하기 선택
- 공유할 노드 및 하위 노드 정보 수집
- STAR 에셋 포함 여부 선택
- Supabase shared_nodes 테이블에 저장
- 공유 링크 생성: /share/{nodeId}
- 클립보드에 자동 복사
- 복사 완료 토스트 메시지 표시
- 노드에 공유 상태 표시 (공유 아이콘)

공유 링크 접근 (/share/[nodeId]):
- nodeId 유효성 검증 (다이아몬드)
  - 유효하지 않음 → 에러 메시지 (빨간색) → 404 페이지
  - 유효함 → 공유 노드 정보 조회 (다이아몬드)
    - 공유 노드 없음 → 에러 메시지 (빨간색) → 404 페이지
    - 공유 노드 있음 → 노드 및 하위 노드 로드 → 로그인 상태 확인 (다이아몬드)
      - 로그인 안됨 → 읽기 전용 모드
        - 마인드맵 표시 (읽기 전용)
        - 공유한 사용자 정보 표시
        - STAR 에셋 표시 (있는 경우)
        - 읽기 전용 안내 오버레이 표시
      - 로그인 됨 → 편집 모드 가능
        - 노드 추가/수정/삭제 가능 (개별 노드 CRUD)
        - 노드 위치 이동 가능
        - STAR 작성 가능
        - 변경 사항을 원본 프로젝트에 반영

공유 해제:
- 공유된 노드에서 우클릭 → 공유 해제 선택
- 공유 해제 확인 다이얼로그 표시
- 확인 → shared_nodes 테이블에서 공유 정보 삭제
- 노드의 공유 상태 제거

모든 조건 분기와 에러 케이스를 포함하고, Mermaid 코드만 출력해주세요.
```

### 프롬프트 9: 아카이브 플로우

```
아카이브 페이지의 플로우를 Mermaid flowchart로 작성해주세요.

아카이브 페이지 진입:
- 로그인 확인 (다이아몬드)
  - 로그인 안됨 → 로그인 페이지로 리다이렉트
  - 로그인 됨 → 모든 프로젝트의 에피소드 노드 조회
    - 에피소드 목록 테이블 형식으로 표시
      - 계층 구조 표시 (프로젝트 > 대분류 > 경험 > 에피소드)
      - STAR 내용, 태그, 회사명 등 정보 표시

검색 기능:
- 검색어 입력 → 에피소드 라벨, STAR 내용, 태그에서 검색 → 실시간 필터링

필터링 기능:
- 대분류(배지)별 필터링
- 역량 태그별 필터링
- 회사명별 필터링
- 여러 필터 조건 조합 가능

에피소드 편집:
- STAR 내용 셀 클릭 → 인라인 편집 모드 → 수정 → Enter/포커스 아웃 → 저장

에피소드 삭제:
- 삭제 버튼 클릭 → 삭제 확인 다이얼로그 → 확인 → 에피소드 및 STAR 에셋 삭제

모든 기능을 명확히 구분하고, Mermaid 코드만 출력해주세요.
```

### 프롬프트 10: 대시보드 플로우

```
대시보드 페이지의 플로우를 Mermaid flowchart로 작성해주세요.

대시보드 페이지 진입:
- 로그인 확인 (다이아몬드)
  - 로그인 안됨 → 로그인 페이지로 리다이렉트
  - 로그인 됨 → 모든 프로젝트의 STAR 자기소개서 목록 조회
    - STAR 목록 카드 형식으로 표시
      - 제목, 회사명, 역량 태그, 작성일 표시
      - 최근 작성일 기준 내림차순 정렬

검색 기능:
- 검색어 입력 → 제목, 내용, 회사명, 역량 태그에서 검색 → 실시간 필터링

STAR 상세 조회:
- STAR 카드 클릭 → 상세 다이얼로그 표시
  - Situation, Task, Action, Result 전체 내용 표시
  - 제목, 회사명, 역량 태그 등 메타데이터 표시
  - 작성일 표시
  - 복사 버튼 클릭 → 전체 STAR 내용을 클립보드에 복사 → 복사 완료 토스트 메시지 표시

STAR 삭제:
- 삭제 버튼 클릭 → 삭제 확인 다이얼로그 → 확인 → STAR 에셋 삭제

모든 기능을 명확히 구분하고, Mermaid 코드만 출력해주세요.
```

---

## 🎨 스타일 커스터마이징 프롬프트

생성된 Mermaid 코드에 스타일을 추가하고 싶을 때 사용하세요:

```
위에서 생성한 Mermaid flowchart에 다음 스타일을 추가해주세요:

1. 인증 관련 노드는 파란색으로 표시
2. 프로젝트 관련 노드는 초록색으로 표시
3. 마인드맵 관련 노드는 보라색으로 표시
4. 공유 링크 관련 노드는 주황색으로 표시
5. 아카이브 관련 노드는 회색으로 표시
6. 대시보드 관련 노드는 노란색으로 표시
7. 에러 케이스는 빨간색으로 표시
8. 조건 분기(다이아몬드)는 노란색 배경으로 표시
9. 페이지/화면(둥근 사각형)은 연한 회색 배경으로 표시

스타일이 적용된 Mermaid 코드만 출력해주세요.
```

---

## 📸 이미지 변환 방법

### 방법 1: Mermaid Live Editor 사용
1. https://mermaid.live 접속
2. Claude가 생성한 Mermaid 코드를 붙여넣기
3. "Actions" → "Download PNG" 또는 "Download SVG" 클릭

### 방법 2: Mermaid CLI 사용
```bash
# Mermaid CLI 설치
npm install -g @mermaid-js/mermaid-cli

# 이미지 생성
mmdc -i flowchart.mmd -o flowchart.png
```

### 방법 3: 온라인 변환 도구
- https://mermaid.ink
- https://kroki.io

---

## 💡 사용 팁

1. **전체 통합 프롬프트**를 먼저 사용하여 전체 플로우를 파악하세요.
2. 특정 기능이 복잡하면 **세분화된 프롬프트**를 사용하여 상세 플로우를 생성하세요.
3. 생성된 코드를 **Mermaid Live Editor**에서 확인하고 수정하세요.
4. 필요시 **스타일 커스터마이징 프롬프트**를 사용하여 시각적으로 개선하세요.
5. 최종적으로 **PNG 또는 SVG 이미지**로 다운로드하여 문서에 포함하세요.

---

## 🔗 참고 링크

- Mermaid 공식 문서: https://mermaid.js.org/
- Mermaid Live Editor: https://mermaid.live
- Mermaid 문법 가이드: https://mermaid.js.org/intro/syntax-reference.html
