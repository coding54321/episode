# Episode 주요 유저 플로우 차트

## 📋 목차

1. [신규 사용자 플로우](#1-신규-사용자-플로우)
2. [기존 사용자 플로우](#2-기존-사용자-플로우)
3. [공백 진단 플로우](#3-공백-진단-플로우)
4. [공유 링크 접근 플로우](#4-공유-링크-접근-플로우)
5. [에피소드 보관함 플로우](#5-에피소드-보관함-플로우)
6. [STAR 작성 플로우](#6-star-작성-플로우)
7. [팀 마인드맵 협업 플로우](#7-팀-마인드맵-협업-플로우)
8. [프로젝트 관리 플로우](#8-프로젝트-관리-플로우)

---

## 1. 신규 사용자 플로우

```mermaid
flowchart TD
    A[랜딩 페이지] --> B{로그인 상태 확인}
    B -->|로그인 안됨| C[서비스 소개 표시]
    C --> D[기능 소개: 마인드맵/공백진단/아카이브]
    D --> E[시작하기 버튼 클릭]
    E --> F[로그인 페이지]
    F --> G[카카오 로그인 버튼 클릭]
    G --> H[카카오 OAuth 페이지]
    H --> I[카카오 로그인 완료]
    I --> J[OAuth 콜백]
    J --> K{인증 성공?}
    K -->|성공| L[사용자 정보 저장]
    L --> M[프로젝트 타입 선택 페이지]
    M --> N{프로젝트 타입 선택}
    N -->|개인 마인드맵| O[배지 선택 페이지]
    N -->|팀 마인드맵| P[경험 노드 입력]
    O --> Q[배지 선택 최소 1개]
    Q --> R[프로젝트 이름 입력]
    P --> R
    R --> S[프로젝트 생성]
    S --> T[마인드맵 워크스페이스]
    T --> U{최초 진입?}
    U -->|예| V[온보딩 튜토리얼 표시]
    U -->|아니오| W[마인드맵 편집]
    V --> W
    K -->|실패| X[에러 메시지 표시]
    X --> F
```

---

## 2. 기존 사용자 플로우

```mermaid
flowchart TD
    A[랜딩 페이지] --> B{로그인 상태 확인}
    B -->|로그인 됨| C[프로젝트 목록 페이지]
    B -->|로그인 안됨| D[로그인 페이지]
    D --> E[카카오 로그인]
    E --> C
    C --> F{프로젝트 있음?}
    F -->|예| G[프로젝트 카드 표시]
    F -->|아니오| H[빈 상태 표시]
    G --> I{사용자 액션}
    I -->|프로젝트 클릭| J[마인드맵 워크스페이스]
    I -->|새 프로젝트 버튼| K[프로젝트 타입 선택]
    H --> K
    K --> L[프로젝트 생성 플로우]
    L --> J
    J --> M[마인드맵 편집]
    M --> N{추가 액션}
    N -->|노드 편집| O[노드 수정]
    N -->|STAR 작성| P[STAR 에디터]
    N -->|공백 진단| Q[공백 진단 사이드바]
    N -->|아카이브| R[에피소드 보관함]
```

---

## 3. 공백 진단 플로우

```mermaid
flowchart TD
    A[공백 진단 시작] --> B{진단 위치 선택}
    B -->|별도 페이지| C[공백 진단 독립 페이지]
    B -->|마인드맵 내| D[사이드바 공백 진단 탭]
    C --> E[기업 선택]
    D --> E
    E --> F[직무 선택]
    F --> G[기출 자기소개서 문항 표시]
    G --> H[각 질문에 답변]
    H --> I{답변 선택}
    I -->|가능함| J[다음 질문]
    I -->|모르겠음| K[역량 빈틈 키워드 도출]
    J --> L{모든 질문 답변 완료?}
    L -->|아니오| H
    L -->|예| K
    K --> M[진단 결과 표시]
    M --> N{진단 위치}
    N -->|별도 페이지| O[경험 정리하러 가기 버튼]
    N -->|마인드맵 내| P[추천 인벤토리에 추가]
    O --> Q[프로젝트 타입 선택]
    Q --> R[마인드맵 생성]
    P --> S[마인드맵 캔버스에 표시]
```

---

## 4. 공유 링크 접근 플로우

```mermaid
flowchart TD
    A[공유 링크 접근] --> B{로그인 상태 확인}
    B -->|로그인 안됨| C[읽기 전용 모드]
    B -->|로그인 됨| D{프로젝트 소유자?}
    D -->|예| E[전체 편집 가능]
    D -->|아니오| F[편집 가능 공동 편집자]
    C --> G[읽기 전용 배너 표시]
    G --> H[노드 선택 및 내용 조회만 가능]
    E --> I[마인드맵 워크스페이스]
    F --> I
    I --> J[마인드맵 편집]
    J --> K{추가 액션}
    K -->|로그인 유도| L[로그인 페이지로 이동]
    K -->|편집 계속| M[노드 생성/수정/삭제]
    H --> L
    L --> N[카카오 로그인]
    N --> I
```

---

## 5. 에피소드 보관함 플로우

```mermaid
flowchart TD
    A[에피소드 보관함 진입] --> B[목록 뷰 표시]
    B --> C{필터/검색 사용}
    C -->|탭 필터| D[전체/개인/팀 마인드맵]
    C -->|프로젝트 필터| E[특정 프로젝트 선택]
    C -->|카테고리 필터| F[배지 타입별 필터]
    C -->|역량 태그 필터| G[역량 키워드 필터]
    C -->|검색| H[에피소드명/경험명/STAR 내용 검색]
    D --> I[필터링된 에피소드 목록]
    E --> I
    F --> I
    G --> I
    H --> I
    I --> J{에피소드 선택}
    J -->|편집 버튼 클릭| K[편집 뷰 진입]
    J -->|에피소드 클릭| K
    K --> L[3단 레이아웃 편집 뷰]
    L --> M[왼쪽: 에피소드 목록]
    L --> N[중앙: STAR 입력 필드]
    L --> O[오른쪽: 태그 관리 및 저장/취소]
    N --> P[STAR 항목 입력]
    P --> Q[Situation 입력]
    P --> R[Task 입력]
    P --> S[Action 입력]
    P --> T[Result 입력]
    O --> U[역량 태그 추가]
    O --> V[기간 정보 편집]
    U --> W[태그 선택 다이얼로그]
    V --> X[날짜 선택 달력]
    Q --> Y{저장/취소}
    R --> Y
    S --> Y
    T --> Y
    W --> Y
    X --> Y
    Y -->|저장| Z[데이터베이스 저장]
    Y -->|취소| AA[변경사항 취소]
    Z --> B
    AA --> B
```

---

## 6. STAR 작성 플로우

```mermaid
flowchart TD
    A[마인드맵 워크스페이스] --> B[에피소드 노드 선택]
    B --> C[사이드바 STAR 에디터 자동 열림]
    C --> D[STAR 항목 입력]
    D --> E[Situation 입력]
    D --> F[Task 입력]
    D --> G[Action 입력]
    D --> H[Result 입력]
    E --> I{모든 항목 입력 완료?}
    F --> I
    G --> I
    H --> I
    I -->|아니오| J[계속 입력]
    J --> D
    I -->|예| K[역량 태그 추가 선택]
    K --> L{태그 추가?}
    L -->|예| M[태그 선택 다이얼로그]
    M --> N[역량 키워드 선택]
    N --> O[태그 추가 완료]
    L -->|아니오| P[저장 버튼 클릭]
    O --> P
    P --> Q[데이터베이스 저장]
    Q --> R[STAR 작성 완료]
    R --> S{추가 액션}
    S -->|다른 에피소드 선택| B
    S -->|에피소드 보관함에서 편집| T[에피소드 보관함]
    S -->|마인드맵 편집 계속| U[마인드맵 편집]
```

---

## 7. 팀 마인드맵 협업 플로우

```mermaid
flowchart TD
    A[팀 마인드맵 생성] --> B[프로젝트 소유자]
    B --> C[공유 설정 활성화]
    C --> D[공유 링크 생성]
    D --> E[공유 링크 공유]
    E --> F[다른 사용자 접근]
    F --> G{로그인 상태}
    G -->|로그인 됨| H[편집 가능 모드]
    G -->|로그인 안됨| I[읽기 전용 모드]
    H --> J[실시간 편집자 표시]
    I --> K[읽기 전용 배너]
    J --> L[동시 편집 시작]
    L --> M{편집 액션}
    M -->|노드 생성| N[노드 생성]
    M -->|노드 수정| O[노드 수정]
    M -->|노드 삭제| P[노드 삭제]
    M -->|STAR 작성| Q[STAR 작성]
    N --> R[실시간 동기화]
    O --> R
    P --> R
    Q --> R
    R --> S[다른 사용자에게 변경사항 반영]
    S --> T{충돌 발생?}
    T -->|예| U[최신 변경사항 우선 적용]
    T -->|아니오| V[정상 동기화]
    U --> W[충돌 알림 표시]
    V --> X[편집 계속]
    W --> X
    K --> Y[노드 선택 및 조회만 가능]
    Y --> Z[로그인 유도]
    Z --> H
```

---

## 8. 프로젝트 관리 플로우

```mermaid
flowchart TD
    A[프로젝트 목록 페이지] --> B{프로젝트 있음?}
    B -->|예| C[프로젝트 카드 표시]
    B -->|아니오| D[빈 상태 표시]
    C --> E{사용자 액션}
    E -->|프로젝트 클릭| F[마인드맵 워크스페이스]
    E -->|프로젝트 제목 더블클릭| G[제목 인라인 편집]
    E -->|프로젝트 삭제 버튼| H[삭제 확인 다이얼로그]
    E -->|새 프로젝트 버튼| I[프로젝트 타입 선택]
    D --> I
    G --> J[제목 수정]
    J --> K[저장]
    K --> C
    H --> L{삭제 확인}
    L -->|확인| M[프로젝트 삭제]
    L -->|취소| C
    M --> N[모든 노드 및 STAR 데이터 삭제]
    N --> O[프로젝트 목록 갱신]
    I --> P{프로젝트 타입}
    P -->|개인 마인드맵| Q[배지 선택]
    P -->|팀 마인드맵| R[경험 노드 입력]
    Q --> S[프로젝트 생성]
    R --> S
    S --> F
    F --> T{추가 관리}
    T -->|프로젝트 설정 변경| U[설정 다이얼로그]
    T -->|공유 설정 변경| V[공유 다이얼로그]
    T -->|프로젝트 삭제| H
    U --> W[레이아웃/색상 테마 변경]
    V --> X[공유 활성화/해제]
    W --> F
    X --> F
```

---

## 9. 노드 관리 플로우

```mermaid
flowchart TD
    A[마인드맵 캔버스] --> B{노드 액션}
    B -->|노드 우클릭| C[컨텍스트 메뉴]
    B -->|노드 더블클릭| D[인라인 편집]
    B -->|노드 드래그| E[위치 이동]
    B -->|노드 연결점 클릭| F[하위 노드 추가]
    B -->|빈 공간 우클릭| G[빈 공간 컨텍스트 메뉴]
    B -->|툴바 노드 추가| H[자유 노드 생성]
    C --> I{메뉴 선택}
    I -->|하위 노드 추가| J[하위 노드 생성]
    I -->|편집| D
    I -->|STAR 정리하기| K[STAR 에디터 열기]
    I -->|삭제| L[삭제 확인]
    I -->|공유하기| M[공유 링크 생성]
    D --> N[노드 내용 수정]
    N --> O[Enter: 저장 / ESC: 취소]
    O -->|저장| P[자동 저장]
    O -->|취소| A
    E --> Q[새로운 좌표 저장]
    Q --> P
    F --> J
    G --> R[노드 추가 선택]
    R --> S[캔버스 위치에 노드 생성]
    H --> S
    S --> T[자유 노드 드래그]
    T --> U{기존 노드 근처?}
    U -->|예| V[가상 연결선 표시]
    U -->|아니오| W[독립 노드 유지]
    V --> X[드롭 시 연결 확인]
    X --> Y[부모-자식 관계 생성]
    J --> Z[계층 구조에 맞는 노드 타입 할당]
    Y --> Z
    Z --> P
    K --> AA[STAR 작성 플로우]
    L --> AB{삭제 확인}
    AB -->|확인| AC[노드 및 하위 노드 삭제]
    AB -->|취소| A
    AC --> AD[STAR 데이터도 함께 삭제]
    AD --> P
    M --> AE[공유 링크 생성 완료]
    P --> A
```

---

## 10. 검색 및 필터 플로우

```mermaid
flowchart TD
    A[마인드맵 워크스페이스] --> B{검색/필터 선택}
    B -->|검색바 사용| C[키워드 입력]
    B -->|역량 필터 사용| D[역량 필터 드롭다운]
    C --> E[검색어 입력]
    E --> F{검색어 길이}
    F -->|1자 이상| G[검색 실행]
    F -->|0자| H[검색 결과 초기화]
    G --> I[모든 노드에서 키워드 검색]
    I --> J[검색 결과 도출]
    J --> K[검색된 노드 하이라이트]
    K --> L[검색 결과 드롭다운 표시]
    L --> M{검색 결과 선택}
    M -->|결과 클릭| N[해당 노드로 이동 및 선택]
    M -->|검색 취소| O[하이라이트 제거]
    D --> P[역량 키워드 목록 표시]
    P --> Q[역량 키워드 선택]
    Q --> R[에피소드 노드 필터링]
    R --> S[STAR 태그 기반 필터링]
    S --> T[필터링된 노드 하이라이트]
    T --> U{필터 해제?}
    U -->|예| V[하이라이트 제거]
    U -->|아니오| W[필터 유지]
    N --> X[마인드맵 편집 계속]
    O --> X
    V --> X
    W --> X
    H --> X
```

---

## 11. 탭 관리 플로우

```mermaid
flowchart TD
    A[마인드맵 워크스페이스] --> B[기존 탭 표시]
    B --> C{사용자 액션}
    C -->|새 탭 버튼 클릭| D[새 탭 패널 열림]
    C -->|탭 클릭| E[탭 전환]
    C -->|탭 닫기 버튼| F[탭 닫기]
    D --> G{새 탭 패널 액션}
    G -->|프로젝트 열기| H[프로젝트 목록 표시]
    G -->|새 마인드맵 생성| I[프로젝트 타입 선택]
    H --> J[프로젝트 선택]
    J --> K[선택한 프로젝트 탭으로 열기]
    I --> L[프로젝트 생성]
    L --> K
    E --> M[현재 탭 상태 저장]
    M --> N[선택한 탭 상태 복원]
    N --> O[해당 프로젝트 로드]
    O --> P[마인드맵 표시]
    F --> Q{마지막 탭?}
    Q -->|예| R[새 탭 패널 자동 표시]
    Q -->|아니오| S[인접 탭으로 전환]
    R --> G
    S --> T[탭 상태 삭제]
    T --> B
    K --> U[새 탭 생성]
    U --> V[프로젝트 로드]
    V --> P
    P --> W{추가 액션}
    W -->|다른 탭 전환| E
    W -->|탭 닫기| F
    W -->|새 탭 추가| D
```

---

## 12. 내보내기 플로우

```mermaid
flowchart TD
    A[마인드맵 워크스페이스] --> B[툴바 내보내기 버튼]
    B --> C[내보내기 드롭다운]
    C --> D{내보내기 형식 선택}
    D -->|이미지 저장| E[PNG 내보내기]
    D -->|PDF 저장| F[PDF 내보내기]
    E --> G[마인드맵 캔버스 렌더링]
    F --> G
    G --> H[모든 노드 및 연결선 포함]
    H --> I{내보내기 형식}
    I -->|PNG| J[이미지 파일 생성]
    I -->|PDF| K[PDF 파일 생성]
    J --> L[파일 다운로드]
    K --> M[페이지 분할 처리]
    M --> L
    L --> N[다운로드 완료]
    N --> O{추가 액션}
    O -->|다시 내보내기| B
    O -->|마인드맵 편집 계속| P[마인드맵 편집]
```

---

## 플로우 차트 사용 가이드

### 차트 읽는 방법
- **사각형**: 페이지 또는 화면
- **다이아몬드**: 조건 분기 (예/아니오 결정)
- **화살표**: 사용자 액션 또는 시스템 흐름
- **라운드 사각형**: 프로세스 또는 액션

### 주요 플로우 요약

1. **신규 사용자**: 랜딩 → 로그인 → 프로젝트 타입 선택 → 배지 선택 → 마인드맵 생성
2. **기존 사용자**: 랜딩 → 프로젝트 목록 → 마인드맵 편집
3. **공백 진단**: 진단 시작 → 기업/직무 선택 → 질문 답변 → 결과 도출
4. **공유 링크**: 링크 접근 → 권한 확인 → 읽기/편집 모드
5. **에피소드 보관함**: 목록 조회 → 필터/검색 → 편집 뷰 → STAR 수정
6. **STAR 작성**: 에피소드 선택 → STAR 에디터 → 항목 입력 → 태그 추가 → 저장
7. **공동 협업**: 공유 활성화 → 링크 공유 → 동시 편집 → 실시간 동기화
8. **프로젝트 관리**: 목록 조회 → 생성/수정/삭제 → 설정 변경
9. **노드 관리**: 노드 생성/편집/삭제 → 계층 구조 관리
10. **검색/필터**: 키워드 검색 → 역량 필터 → 결과 하이라이트
11. **탭 관리**: 탭 생성/전환/닫기 → 상태 저장/복원
12. **내보내기**: 형식 선택 → 렌더링 → 파일 다운로드

---

**작성일**: 2024년 1월 1일  
**최종 수정일**: 2024년 1월 1일
