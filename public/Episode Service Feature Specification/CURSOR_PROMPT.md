# Episode Service - 프로토타입 서비스 구축 프롬프트

## 프로젝트 개요

**Episode**는 사용자의 경험을 마인드맵으로 구조화하고, AI 챗봇과 함께 STAR 방식으로 자기소개서를 작성할 수 있도록 도와주는 프론트엔드 전용 프로토타입 서비스입니다. 백엔드 없이 localStorage를 활용하여 완전히 작동하는 프로토타입을 구축합니다.

## 기술 스택 요구사항

- **프레임워크**: React 18.3.1 (최신 버전 사용)
- **빌드 도구**: Vite 6.3.5
- **언어**: TypeScript
- **라우팅**: React Router DOM 6.26.0
- **스타일링**: Tailwind CSS
- **UI 컴포넌트**: Radix UI 기반 shadcn/ui 컴포넌트
- **아이콘**: Lucide React
- **상태 관리**: React Hooks (useState, useEffect, useContext)
- **데이터 저장**: localStorage (백엔드 없이 완전한 프론트엔드 프로토타입)

## 핵심 기능 명세서

### 1. 사용자 인증 및 온보딩 플로우

#### 1.1 랜딩 페이지 (`/`)
- **기능**: 서비스 소개 및 시작하기 버튼
- **요구사항**:
  - 히어로 섹션: 서비스 소개 문구, "무료로 시작하기" CTA 버튼
  - 주요 기능 소개 (마인드맵, AI 챗봇, STAR 에디터, 대시보드)
  - 반응형 디자인 (모바일/태블릿/데스크톱)
  - 현대적이고 깔끔한 UI (그라데이션, 그림자 효과 활용)

#### 1.2 로그인 페이지 (`/login`)
- **기능**: 소셜 로그인 (목업)
- **요구사항**:
  - 카카오 로그인 버튼 (노란색 배경 #FEE500)
  - Google 로그인 버튼 (흰색 배경, 테두리)
  - 로그인 시 localStorage에 사용자 정보 저장
  - 이미 로그인된 경우 자동 리다이렉트
  - 목업 데이터 구조:
    ```typescript
    interface User {
      id: string;
      name: string;
      email: string;
      provider: 'kakao' | 'google';
    }
    ```

#### 1.3 배지 선택 페이지 (`/badge-selection`)
- **기능**: 사용자의 경험 유형 선택
- **요구사항**:
  - 여러 배지 옵션 제공 (인턴, 학업, 동아리, 프로젝트, 아르바이트 등)
  - 다중 선택 가능
  - 선택한 배지는 localStorage에 저장
  - 완료 시 마인드맵 페이지로 이동

### 2. 마인드맵 캔버스 (`/mindmap`)

#### 2.1 핵심 기능
- **노드 생성/수정/삭제**:
  - 루트 노드 자동 생성 (처음 접속 시)
  - 노드 클릭: 선택 상태
  - 노드 더블클릭: 인라인 편집 모드
  - 노드 우클릭: 컨텍스트 메뉴 (하위 노드 추가, 삭제, 공유)
  - 노드에 마우스 오버: "+" 버튼 표시로 하위 노드 추가

- **드래그 앤 드롭**:
  - 노드 드래그: 위치 이동
  - Space + 드래그: 캔버스 전체 이동 (팬)
  - Alt + 마우스 휠: 줌 인/아웃
  - 드래그 중 시각적 피드백 (그림자, 스케일 효과)

- **노드 구조**:
  ```typescript
  interface MindMapNode {
    id: string;
    label: string;
    parentId: string | null;
    children: string[];
    x: number;
    y: number;
    level: number;
    isShared?: boolean;
    sharedLink?: string;
  }
  ```

#### 2.2 탭 기반 멀티 뷰
- 메인 탭: 전체 마인드맵 뷰
- 공유 노드 탭: 특정 노드의 상세 뷰를 새 탭으로 열기
- 탭 닫기 기능 (메인 탭은 닫을 수 없음)
- 탭 전환 시 해당 뷰로 이동

#### 2.3 데이터 저장
- 모든 노드 데이터는 `episode_mindmap` 키로 localStorage에 저장
- 변경 시 자동 저장
- 다른 탭과 실시간 동기화 (storage 이벤트 리스너)

### 3. AI 챗봇 (사이드바)

#### 3.1 기본 동작
- **위치**: 화면 오른쪽 고정 사이드바
- **토글**: 접힘/펼침 상태 관리
- **탭 구조**:
  - AI 어시스턴트 탭: STAR 방식 대화
  - 추천 인벤토리 탭: 공백 진단 결과 표시

#### 3.2 STAR 방식 대화
- **진행 상황 추적**:
  - S (Situation), T (Task), A (Action), R (Result) 각각 완성 여부 표시
  - 진행 바 또는 배지로 시각화
  - 모든 요소 완성 시 "STAR 초안 생성 가능" 배너 표시

- **대화 흐름**:
  - 노드 선택 시 자동으로 환영 메시지 및 첫 질문
  - 사용자 입력에 따라 다음 질문 자동 생성
  - 키워드 기반 응답 생성 (실제 AI 없이 시뮬레이션)
  - 타이핑 인디케이터로 자연스러운 대화 느낌

- **질문 템플릿**:
  ```typescript
  const STAR_QUESTIONS = {
    situation: [
      '어떤 상황이었나요?',
      '당시 배경은 어떠했나요?',
      '문제가 발생한 맥락을 설명해주세요',
    ],
    task: [
      '어떤 과제나 목표가 있었나요?',
      '당신의 역할은 무엇이었나요?',
    ],
    action: [
      '구체적으로 어떤 행동을 취했나요?',
      '어떤 방법을 사용했나요?',
    ],
    result: [
      '결과는 어땠나요?',
      '어떤 성과가 있었나요?',
    ],
  };
  ```

- **응답 생성 로직**:
  - 사용자 메시지의 키워드 분석
  - 현재 진행 상황에 맞는 다음 질문 제시
  - 자연스러운 응답 문구 생성
  - 1-1.5초 랜덤 딜레이로 타이핑 효과

#### 3.3 추천 인벤토리 탭
- 공백 진단 결과를 드래그 가능한 카드로 표시
- 노드로 드래그하여 연결 가능
- 태그 제거 기능

### 4. STAR 에디터 모달

#### 4.1 기능
- **초안 생성**: AI 챗봇 대화 내용 기반 자동 생성
- **편집 기능**:
  - 제목 편집
  - 내용 편집 (전체 텍스트)
  - STAR 구성 요소별 자동 파싱
- **검증**:
  - 제목 필수 입력
  - 내용 필수 입력
  - 글자 수 표시 (500자 권장, 700자 초과 시 경고)
- **액션**:
  - 복사하기: 클립보드에 복사
  - 저장하기: localStorage에 저장 후 대시보드에서 확인 가능

#### 4.2 데이터 구조
```typescript
interface STARAsset {
  id: string;
  nodeId: string;
  title: string;
  situation: string;
  task: string;
  action: string;
  result: string;
  content: string; // 최종 조립된 텍스트
  createdAt: number;
  updatedAt: number;
  company?: string;
  competency?: string;
}
```

### 5. 공백 진단 모달

#### 5.1 기능
- 기업별/직무별 문항 선택
- 각 문항에 대한 답변 어려움 정도 선택
- 답변 어려운 역량을 GapTag로 추출
- 추천 인벤토리에 자동 추가

#### 5.2 데이터 구조
```typescript
interface GapTag {
  id: string;
  label: string;
  source: string; // 어떤 기업 문항에서 추출되었는지
}
```

### 6. 대시보드 (`/dashboard`)

#### 6.1 기능
- **에셋 목록**:
  - 카드 뷰 / 테이블 뷰 전환
  - 최신순 정렬
  - 검색 기능 (제목, 내용)
  - 필터링 (회사별, 역량별)

- **에셋 상세**:
  - 클릭 시 상세 모달/사이드바
  - STAR 구성 요소별 표시
  - 복사하기 버튼
  - 삭제하기 버튼 (확인 다이얼로그)

- **통계**:
  - 총 에셋 개수
  - 최근 생성된 에셋
  - 카테고리별 분포

### 7. 공유 기능

#### 7.1 노드 공유
- 노드 우클릭 → "공유하기" 메뉴
- 공유 링크 생성: `/share/:nodeId`
- 링크 복사 기능
- 공유된 노드는 `isShared: true` 플래그 설정

#### 7.2 공유 뷰 (`/share/:nodeId`)
- 공유된 노드의 상세 정보 표시
- 읽기 전용 모드
- 홈으로 돌아가기 버튼

## UI/UX 요구사항

### 디자인 시스템
- **색상**:
  - Primary: Blue (#3B82F6, blue-600)
  - Success: Green (#10B981, green-600)
  - Warning: Orange (#F59E0B, orange-600)
  - Error: Red (#EF4444, red-600)
  - Background: White / Gray-50
  - Text: Gray-900 (주요), Gray-600 (보조)

- **타이포그래피**:
  - 제목: text-2xl ~ text-5xl, font-bold
  - 본문: text-sm ~ text-base
  - 작은 텍스트: text-xs

- **간격**: Tailwind 기본 간격 시스템 사용
- **둥근 모서리**: rounded-lg (8px), rounded-xl (12px), rounded-2xl (16px)
- **그림자**: shadow-sm, shadow-md, shadow-xl

### 애니메이션
- 버튼 호버: transition-colors
- 모달 등장: fade-in + slide-in
- 사이드바 슬라이드: slide-in-right
- 타이핑 인디케이터: bounce 애니메이션
- 드래그 중: scale, shadow 효과

### 반응형 디자인
- 모바일: 320px ~ 768px
- 태블릿: 768px ~ 1024px
- 데스크톱: 1024px 이상
- 사이드바는 모바일에서 오버레이로 표시

## 데이터 저장 구조

### localStorage 키
- `episode_user`: 사용자 정보 (JSON)
- `episode_badges`: 선택한 배지 배열 (JSON)
- `episode_mindmap`: 마인드맵 노드 배열 (JSON)
- `episode_assets`: STAR 에셋 배열 (JSON)
- `episode_gap_tags`: 공백 태그 배열 (JSON)

### 데이터 동기화
- storage 이벤트 리스너로 다른 탭과 실시간 동기화
- 데이터 변경 시 자동 저장
- 데이터 로드 시 형식 검증 (try-catch)

## 구현 우선순위

### Phase 1: 핵심 기능 (필수)
1. ✅ 라우팅 구조 설정
2. ✅ 랜딩/로그인/배지 선택 페이지
3. ✅ 마인드맵 캔버스 기본 기능 (생성/수정/삭제)
4. ✅ 드래그 앤 드롭, 줌/팬
5. ✅ AI 챗봇 기본 대화
6. ✅ STAR 에디터
7. ✅ 대시보드 기본 목록

### Phase 2: 고급 기능 (중요)
1. 공백 진단 모달
2. 공유 기능
3. 탭 기반 멀티 뷰
4. 검색 및 필터링
5. 애니메이션 및 UX 개선

### Phase 3: 폴리싱 (선택)
1. 통계 대시보드
2. 데이터 내보내기/가져오기
3. 키보드 단축키
4. 접근성 개선

## 코드 품질 요구사항

### TypeScript
- 모든 컴포넌트와 함수에 타입 정의
- any 타입 사용 금지
- 인터페이스는 types/index.ts에 중앙 관리

### 컴포넌트 구조
- 함수형 컴포넌트 사용
- 커스텀 훅으로 로직 분리 (필요시)
- 재사용 가능한 UI 컴포넌트는 components/ui/에 배치

### 에러 처리
- try-catch로 localStorage 접근 보호
- 사용자 친화적 에러 메시지
- 콘솔 에러 로깅

### 성능
- 불필요한 리렌더링 방지 (useMemo, useCallback)
- 큰 리스트는 가상화 고려
- 이미지 lazy loading

## 테스트 시나리오

### 사용자 플로우 1: 신규 사용자
1. 랜딩 페이지 접속
2. "무료로 시작하기" 클릭
3. 카카오 로그인 (목업)
4. 배지 선택 (인턴, 학업)
5. 마인드맵에서 루트 노드에 "대학교" 입력
6. "대학교" 노드에 하위 노드 "프로젝트" 추가
7. "프로젝트" 노드 선택
8. AI 챗봇에서 STAR 방식으로 대화
9. STAR 초안 생성 및 편집
10. 저장 후 대시보드에서 확인

### 사용자 플로우 2: 공유 기능
1. 노드 우클릭 → "공유하기"
2. 링크 복사
3. 새 탭에서 공유 링크 접속
4. 공유된 노드 정보 확인

## 특별 요구사항

1. **백엔드 없이 완전한 프로토타입**: 모든 기능이 localStorage로 작동해야 함
2. **실제 사용 가능한 수준**: 단순 목업이 아닌 실제로 사용할 수 있는 수준
3. **반응형 디자인**: 모바일부터 데스크톱까지 완벽 지원
4. **접근성**: 키보드 네비게이션, ARIA 레이블 등 기본 접근성 고려
5. **한국어 완전 지원**: 모든 텍스트 한국어, 날짜 형식 한국어

## 시작하기

이 프롬프트를 기반으로 다음 순서로 구현을 진행해주세요:

1. 현재 프로젝트 구조 분석 및 개선점 파악
2. 타입 정의 완성 (types/index.ts)
3. 라우팅 구조 확인 및 보완
4. 각 페이지/컴포넌트 순차적 구현
5. localStorage 데이터 관리 유틸리티 함수 작성
6. 통합 테스트 및 버그 수정

모든 코드는 TypeScript로 작성하고, Tailwind CSS로 스타일링하며, shadcn/ui 컴포넌트를 최대한 활용해주세요.

